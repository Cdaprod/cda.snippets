<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <title>Snippet Manager</title>
    <style>
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }

        .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>

<body class="bg-gradient-to-r from-blue-800 to-blue-900 text-white">
    <nav class="p-4">
        <input type="text" id="searchInput" placeholder="Search..." class="p-2 rounded bg-white text-black mb-4">
        <div class="flex overflow-x-scroll hide-scrollbar" id="tagContainer">
            <!-- Tags will be populated here -->
        </div>
    </nav>
    <main class="p-4" id="snippetContainer">
        <!-- Snippets will be displayed here -->
    </main>

    <script>
        let snippets = [
            { title: "#Ssh", content: "ssh cda@123.123.123" },
            { title: "#Github", content: "git clone https://github.com/cdaprod/cdaprod" }
        ];

        function populateTags() {
            const tagContainer = document.getElementById('tagContainer');
            tagContainer.innerHTML = ''; // Clear previous tags

            const uniqueTags = [...new Set(snippets.map(snippet => snippet.title.split(" ")[0]))];

            uniqueTags.forEach(tag => {
                const button = document.createElement('button');
                button.textContent = tag;
                button.classList.add('p-2', 'mr-2', 'rounded', 'bg-lime-300', 'text-blue-900');
                button.onclick = function() {
                    filterSnippets(tag);
                };
                tagContainer.appendChild(button);
            });
        }

        function filterSnippets(tag) {
            const filteredSnippets = snippets.filter(snippet => snippet.title.startsWith(tag));
            displaySnippets(filteredSnippets);
        }

        function displaySnippets(data) {
            const snippetContainer = document.getElementById('snippetContainer');
            snippetContainer.innerHTML = ''; // Clear previous snippets

            data.forEach(snippet => {
                const snippetDiv = document.createElement('div');
                snippetDiv.classList.add('mb-4');

                const title = document.createElement('h2');
                title.textContent = snippet.title;
                snippetDiv.appendChild(title);

                const content = document.createElement('p');
                content.textContent = snippet.content;
                snippetDiv.appendChild(content);

                snippetContainer.appendChild(snippetDiv);
            });
        }

        // Initialization
        populateTags();
        displaySnippets(snippets);

        // Filter on search input change
        document.getElementById('searchInput').addEventListener('input', (e) => {
            const searchTerm = e.target.value;
            const filteredSnippets = snippets.filter(snippet => snippet.title.includes(searchTerm) || snippet.content.includes(searchTerm));
            displaySnippets(filteredSnippets);
        });
    </script>
</body>

</html>
